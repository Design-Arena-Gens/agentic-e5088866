type SectionContent =
  | { type: "paragraph"; content: string }
  | { type: "list"; items: string[]; ordered?: boolean }
  | { type: "quote"; content: string };

type Section = {
  id: string;
  title: string;
  subtitle?: string;
  contents: SectionContent[];
};

const researchSnapshot = [
  { label: "نوع الدراسة", value: "بحث تحليلي-وصفي بمنهجية علمية" },
  {
    label: "مجال التخصص",
    value: "القانون الدولي العام / الدبلوماسية والحماية القنصلية",
  },
  { label: "محور التركيز", value: "دور البعثات الدبلوماسية والقنصلية" },
  { label: "الإطار المكاني", value: "نطاق العلاقات الثنائية ومتعددة الأطراف" },
  { label: "الإطار الزمني", value: "القرن الحادي والعشرون والتحولات الرقمية" },
  { label: "منهج جمع البيانات", value: "تحليل وثائقي ومقارنة قانونية" },
];

const sections: Section[] = [
  {
    id: "introduction",
    title: "مقدمة",
    contents: [
      {
        type: "paragraph",
        content:
          "يُعد حق الدولة في ممارسة الحماية الدبلوماسية أحد أبرز الآليات التي وفرها القانون الدولي لضمان احترام حقوق رعاياها في الخارج. ومع تنامي التداخلات الاقتصادية والاجتماعية العابرة للحدود، تزايد الضغط على البعثات الدبلوماسية والقنصلية لتطوير أدوات أكثر فعالية لإدارة النزاعات وتمثيل الأفراد أمام السلطات الأجنبية. يستعرض هذا البحث الدور المتنامي لهذه البعثات في تفعيل الحماية الدبلوماسية، ويقيّم الأدوات القانونية والعملية التي تعتمد عليها في العصر الرقمي.",
      },
    ],
  },
  {
    id: "problem-statement",
    title: "إشكالية البحث وأسئلته الرئيسة",
    contents: [
      {
        type: "paragraph",
        content:
          "تكمن الإشكالية في كيفية تحقيق التوازن بين متطلبات السيادة الوطنية للدولة المضيفة والتزامات الدولة المعتمدة تجاه رعاياها عند ممارسة الحماية الدبلوماسية، خاصة في ظل التحولات التقنية والضغوط السياسية المتزايدة.",
      },
      {
        type: "list",
        ordered: true,
        items: [
          "ما الأطر القانونية الدولية والوطنية التي تضبط تدخل البعثات في قضايا الحماية الدبلوماسية؟",
          "إلى أي مدى تتكامل أدوار البعثات الدبلوماسية والقنصلية في معالجة حالات انتهاك حقوق المواطنين بالخارج؟",
          "ما أبرز التحديات العملية التي تواجه البعثات في جمع الأدلة، وإقناع الدولة المضيفة بتصحيح الانتهاكات، وتأمين حلول مستدامة؟",
          "كيف أثرت التحولات الرقمية والأزمات الصحية العالمية في تطوير أدوات الحماية الدبلوماسية؟",
        ],
      },
    ],
  },
  {
    id: "importance-objectives",
    title: "أهمية وأهداف البحث",
    contents: [
      {
        type: "list",
        items: [
          "تقديم قراءة منهجية لتطور مفهوم الحماية الدبلوماسية وأثره في توسيع صلاحيات البعثات.",
          "تحديد الأدوار التكاملية التي تضطلع بها البعثات الدبلوماسية والقنصلية في الوقاية من الانتهاكات قبل وقوعها.",
          "اقتراح آليات عملية لتعزيز كفاءة البعثات في التفاعل مع القضايا الفردية والجماعية ذات الطابع العاجل.",
          "رصد الفجوات التنظيمية والتشريعية داخل الأطر الوطنية التي تعيق فعالية الحماية الدبلوماسية.",
        ],
      },
    ],
  },
  {
    id: "methodology",
    title: "المنهجية المعتمدة وخطة البحث",
    contents: [
      {
        type: "paragraph",
        content:
          "اعتمد البحث على منهجية علمية تجمع بين التحليل الوصفي والمقارنة القانونية. تم تفكيك الإشكالية إلى وحدات فرعية تغطي الإطار القانوني، الممارسات العملية، ودراسات الحالات، وفق خطوات بحثية مرحلية.",
      },
      {
        type: "list",
        ordered: true,
        items: [
          "جمع المعطيات: تحليل الوثائق القانونية الدولية (اتفاقية فيينا للعلاقات الدبلوماسية 1961، اتفاقية فيينا للعلاقات القنصلية 1963) إضافة إلى القوانين الوطنية والتقارير الصادرة عن المنظمات الدولية.",
          "المقارنة: دراسة نماذج مختارة من الممارسات الدولية (الاتحاد الأوروبي، الولايات المتحدة، المغرب) في إدارة ملفات الحماية الدبلوماسية.",
          "التحليل: تقييم فعالية الإجراءات استناداً إلى معيار الاستجابة الزمنية، والنتائج القانونية، ومستوى التنسيق بين الأجهزة الحكومية.",
          "الاستخلاص: صياغة نتائج وتوصيات معيارية قابلة للتطبيق في سياقات متعددة مع تحديد شروط التكييف.",
        ],
      },
    ],
  },
  {
    id: "conceptual-framework",
    title: "الإطار المفاهيمي والقانوني",
    contents: [
      {
        type: "list",
        items: [
          "الحماية الدبلوماسية: عمل تمارسه الدولة نيابة عن رعاياها الذين تعرضوا لضرر غير مشروع خارج إقليمها، بهدف المطالبة بجبر الضرر عبر الوسائل السلمية.",
          "البعثة الدبلوماسية: تمثل الدولة على المستوى السياسي والاقتصادي، وتتحمل مهام التفاوض، التقارير، وترويج المصالح العليا للدولة المعتمدة.",
          "البعثة القنصلية: جهاز متخصص بتقديم الخدمات الإدارية والقانونية للمواطنين بالخارج، مع صلاحيات محددة في التدخل لدى السلطات المحلية.",
          "المسار متعدد الأطراف: إطار يُستخدم حين يكون الانتهاك ذا بعد جماعي أو يمس قواعد آمرة في القانون الدولي.",
        ],
      },
    ],
  },
  {
    id: "diplomatic-missions-role",
    title: "دور البعثات الدبلوماسية في الحماية",
    contents: [
      {
        type: "paragraph",
        content:
          "تتولى السفارات مهاماً إستراتيجية تبدأ بالرصد المبكر للحالات ذات القابلية للتصعيد، مروراً بفتح قنوات تواصل رسمية مع وزارة الخارجية في الدولة المضيفة، وانتهاءً بالتفاوض حول تسوية قانونية أو سياسية. كما تنخرط في تنسيق الجهود مع المنظمات الدولية عندما تستدعي الحالة تدخل أطراف ثالثة.",
      },
      {
        type: "list",
        items: [
          "إعداد مذكرات شفوية ورسائل احتجاج رسمية مدعومة بمرجعيات قانونية.",
          "تعبئة الملف الدبلوماسي عبر جمع البيانات من أسر المتضررين والمحامين المحليين.",
          "استخدام قنوات الضغط السياسي أو الاقتصادي وفق توجيهات وزارة الخارجية مع مراعاة مبدأ التناسب.",
          "التفاوض حول آليات تسوية بديلة مثل الوساطة أو اللجوء إلى التحكيم الدولي.",
        ],
      },
    ],
  },
  {
    id: "consular-missions-role",
    title: "دور البعثات القنصلية في الحماية",
    contents: [
      {
        type: "paragraph",
        content:
          "تعمل القنصليات كرابط مباشر مع المواطنين بالخارج، وتوفر خدمات وثائقية وقانونية عاجلة. وتبرز أهميتها في الحالات الفردية التي تتطلب تدخلاً سريعاً لضمان احترام الحقوق الإجرائية والإنسانية للأشخاص المحتجزين أو ضحايا الاتجار بالبشر.",
      },
      {
        type: "list",
        items: [
          "توفير الدعم القانوني الأولي عبر قوائم محامين معتمدين ومرافقة المتضررين أثناء التحقيقات.",
          "مراقبة مدى احترام السلطات المحلية للحق في التواصل القنصلي وفق المادة 36 من اتفاقية فيينا للقنصليات.",
          "إصدار وثائق سفر مؤقتة وتأمين العودة الطوعية أو المنظمة وفق المعايير الإنسانية.",
          "تنسيق الدعم الاجتماعي والنفسي للأسر والتعاون مع منظمات المجتمع المدني المحلية.",
        ],
      },
    ],
  },
  {
    id: "coordination",
    title: "التكامل المؤسسي",
    contents: [
      {
        type: "paragraph",
        content:
          "يتطلب نجاح الحماية الدبلوماسية تنسيقاً مؤسسياً بين البعثات والوزارات المعنية داخل الدولة الأم، خاصة وزارات الخارجية، العدل، والداخلية. كما يستلزم وجود قاعدة بيانات موحدة لحالات التدخل لضمان تراكم الخبرة المؤسسية.",
      },
      {
        type: "list",
        items: [
          "اعتماد بروتوكولات تدخل مشتركة تحدد مراحل العمل والمسؤوليات.",
          "تفعيل منصات رقمية آمنة لتبادل المعلومات الحساسة بين البعثات المركزية والميدانية.",
          "تقييم الأداء عبر مؤشرات كمية (زمن الاستجابة، معدل الحلول الرضائية) وكيفية (رضا المستفيدين).",
        ],
      },
    ],
  },
  {
    id: "mechanisms",
    title: "أدوات الحماية الدبلوماسية المعاصرة",
    contents: [
      {
        type: "list",
        items: [
          "المساعي الودية والوساطة الثنائية مع الاستناد إلى القواعد العرفية الدولية.",
          "اللجوء إلى التحكيم أو القضاء الدولي في حال استنفاد الوسائل الداخلية وفشل المفاوضات.",
          "تدويل القضايا من خلال المنظمات الإقليمية (الاتحاد الإفريقي، مجلس أوروبا) لزيادة الضغط السياسي.",
          "استخدام الدبلوماسية الرقمية لتوثيق الانتهاكات والتواصل مع الرأي العام مع الحفاظ على سرية المعطيات الحساسة.",
        ],
      },
    ],
  },
  {
    id: "challenges",
    title: "التحديات والقيود العملية",
    contents: [
      {
        type: "list",
        items: [
          "قيود السيادة الوطنية التي قد تُرفض بموجبها طلبات الزيارة أو التحقيق الميداني.",
          "ضعف الإمكانيات البشرية والمالية في بعض القنصليات، خاصة في المناطق النائية أو عالية المخاطر.",
          "تنامي الجرائم السيبرانية التي تستدعي مهارات فنية جديدة للتتبع والاستجابة.",
          "تضارب المصالح الاقتصادية والسياسية بما يقلص من هامش المناورة الدبلوماسية.",
        ],
      },
    ],
  },
  {
    id: "case-studies",
    title: "نماذج تطبيقية مختارة",
    contents: [
      {
        type: "paragraph",
        content:
          "تكشف دراسة حالات من مناطق مختلفة عن تنوع استجابات البعثات اعتماداً على نوع الانتهاك وطبيعة العلاقة مع الدولة المضيفة.",
      },
      {
        type: "list",
        items: [
          "الاتحاد الأوروبي: اعتمد آلية الدعم القنصلي للمواطنين الأوروبيين في الدول التي لا تتواجد فيها دولة عضو، ما عزز التعاون متعدد الأطراف.",
          "الولايات المتحدة: أنشأت مكتب المبعوث الخاص لشؤون الرهائن لتنسيق الجهود الدبلوماسية والأمنية في حالات الاختطاف.",
          "المغرب: فعّل اللجنة الوزارية المكلفة بشؤون المغاربة بالخارج لتيسير الاستجابة للحالات الطارئة خلال جائحة كوفيد-19.",
        ],
      },
    ],
  },
  {
    id: "findings",
    title: "النتائج الأولية",
    contents: [
      {
        type: "list",
        items: [
          "تعزز البعثات الدبلوماسية شرعية مطالب الدولة وحشد الدعم الدولي عندما تُأطر القضايا ضمن منظومة حقوق الإنسان.",
          "تلعب القنصليات دوراً وقائياً حاسماً عبر الاستجابة السريعة والشراكات المحلية، ما يقلل الحاجة للتصعيد الدبلوماسي.",
          "يمثل التنسيق المؤسسي وتراكم قواعد البيانات شرطاً لازماً لتحسين جودة التدخلات الدبلوماسية.",
          "تشكل التحولات الرقمية فرصة لتطوير أدوات الرصد والتوثيق لكنها تفرض تحديات أمنية وأخلاقية جديدة.",
        ],
      },
    ],
  },
  {
    id: "recommendations",
    title: "توصيات البحث",
    contents: [
      {
        type: "list",
        ordered: true,
        items: [
          "تعزيز الإطار التشريعي الوطني بإدراج بروتوكولات واضحة للحماية الدبلوماسية وتحديد صلاحيات كل جهة.",
          "تطوير قدرات الموارد البشرية في البعثات عبر برامج تدريب متخصصة في القانون الدولي وحقوق الإنسان والتحليل الرقمي.",
          "إنشاء منصة رقمية موحدة لتوثيق الحالات وتبادل الخبرات بين البعثات المختلفة مع ضمان أمن المعلومات.",
          "إبرام اتفاقيات ثنائية تضمن التعاون القضائي والإداري السريع عند تعرض الرعايا لانتهاكات جسيمة.",
          "إطلاق حملات توعية للجاليات بالخارج لتعريفهم بحقوقهم وآليات التواصل مع البعثات في الأزمات.",
        ],
      },
    ],
  },
  {
    id: "conclusion",
    title: "خاتمة",
    contents: [
      {
        type: "paragraph",
        content:
          "يخلص البحث إلى أن الحماية الدبلوماسية لم تعد مجرد خيار سياسي بل أصبحت ضرورة قانونية وأخلاقية تتطلب تحديثاً مستمراً للأدوات والمؤسسات. إن التكامل بين البعثات الدبلوماسية والقنصلية، المدعوم بمنظومة وطنية واضحة، يمكّن الدولة من حماية رعاياها وضمان احترام القانون الدولي. وتبقى فعالية الحماية رهينة بتعزيز الشفافية، وتطوير القدرات، والاستثمار في الدبلوماسية الوقائية.",
      },
    ],
  },
  {
    id: "references",
    title: "المراجع المختارة",
    contents: [
      {
        type: "list",
        items: [
          "اتفاقية فيينا للعلاقات الدبلوماسية لعام 1961.",
          "اتفاقية فيينا للعلاقات القنصلية لعام 1963.",
          "لجنة القانون الدولي، مشروع المواد المتعلقة بالحماية الدبلوماسية، 2006.",
          "Raphael, T. (2016). Diplomatic Protection in International Law. Oxford University Press.",
          "European Union External Action Service (2023). Consular Protection for EU Citizens Abroad.",
          "U.S. Department of State (2022). Public Guidance on Consular Notification and Access.",
        ],
      },
    ],
  },
];

const toc = sections.map(({ id, title }) => ({ id, title }));

export default function Home() {
  return (
    <div className="min-h-screen bg-gradient-to-br from-zinc-100 via-white to-sky-100 px-6 py-10 text-zinc-900">
      <div className="mx-auto max-w-6xl space-y-12">
        <header className="rounded-3xl bg-white/90 p-10 shadow-xl backdrop-blur">
          <div className="flex flex-col gap-6">
            <span className="self-start rounded-full bg-sky-100 px-4 py-1 text-sm font-semibold text-sky-700">
              دراسة بحثية منهجية
            </span>
            <h1 className="text-4xl font-bold text-slate-900 sm:text-5xl">
              دور البعثات الدبلوماسية والقنصلية في أعمال الحماية الدبلوماسية
            </h1>
            <p className="text-lg leading-8 text-slate-700">
              تقدم هذه الدراسة تحليلاً منهجياً لمسارات تدخل البعثات
              الدبلوماسية والقنصلية عند ممارسة الحماية الدبلوماسية لصالح رعايا
              الدولة في الخارج، مع إبراز الأطر القانونية، الأدوات العملية،
              والتحديات المعاصرة في ضوء التحولات الرقمية وتزايد المخاطر
              العابرة للحدود.
            </p>
          </div>
        </header>

        <section className="grid gap-4 md:grid-cols-3">
          {researchSnapshot.map((item) => (
            <div
              key={item.label}
              className="rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm"
            >
              <p className="text-sm font-semibold text-sky-700">{item.label}</p>
              <p className="mt-3 text-base leading-7 text-slate-800">
                {item.value}
              </p>
            </div>
          ))}
        </section>

        <section className="rounded-3xl bg-white/90 p-10 shadow-lg backdrop-blur">
          <h2 className="text-2xl font-semibold text-slate-900">خطة القراءة</h2>
          <p className="mt-3 text-base text-slate-600">
            يتيح الجدول التالي تصفح أقسام البحث الرئيسة والتنقل عبر فصول
            الدراسة بشكل متسلسل.
          </p>
          <nav className="mt-6 grid gap-3 sm:grid-cols-2 lg:grid-cols-3">
            {toc.map((entry) => (
              <a
                key={entry.id}
                href={`#${entry.id}`}
                className="group rounded-2xl border border-slate-200 bg-gradient-to-br from-white to-slate-50 p-5 transition hover:-translate-y-1 hover:border-sky-200 hover:shadow-md"
              >
                <span className="text-base font-medium text-slate-800 transition group-hover:text-sky-700">
                  {entry.title}
                </span>
              </a>
            ))}
          </nav>
        </section>

        <main className="space-y-10">
          {sections.map((section) => (
            <article
              key={section.id}
              id={section.id}
              className="scroll-mt-24 rounded-3xl bg-white/95 p-10 shadow-md backdrop-blur"
            >
              <header className="border-b border-slate-200 pb-6">
                <h2 className="text-3xl font-semibold text-slate-900">
                  {section.title}
                </h2>
                {section.subtitle ? (
                  <p className="mt-2 text-base text-slate-600">
                    {section.subtitle}
                  </p>
                ) : null}
              </header>
              <div className="mt-6 space-y-5 text-lg leading-8 text-slate-700">
                {section.contents.map((content, index) => {
                  if (content.type === "paragraph") {
                    return <p key={index}>{content.content}</p>;
                  }

                  if (content.type === "quote") {
                    return (
                      <blockquote
                        key={index}
                        className="border-r-4 border-sky-200 bg-sky-50/60 px-6 py-4 text-slate-800"
                      >
                        {content.content}
                      </blockquote>
                    );
                  }

                  return (
                    <ul
                      key={index}
                      className={`ms-6 space-y-2 ${
                        content.ordered ? "list-decimal" : "list-disc"
                      }`}
                    >
                      {content.items.map((item) => (
                        <li key={item} className="leading-7">
                          {item}
                        </li>
                      ))}
                    </ul>
                  );
                })}
              </div>
            </article>
          ))}
        </main>

        <footer className="rounded-3xl bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 p-8 text-white shadow-lg">
          <p className="text-base leading-7">
            تم إعداد هذا البحث وفق منهجية علمية تستند إلى تحليل وثائقي، مقارنة
            قانونية، ودراسات حالات معاصرة، مع الحرص على إبراز التكامل بين البعثات
            الدبلوماسية والقنصلية في حماية حقوق المواطنين بالخارج.
          </p>
        </footer>
      </div>
    </div>
  );
}
